<!--
  The 'concerto-client-time' element provides the current client side time
-->
<dom-module id="concerto-client-time">
  <style>
    :host { 
      position: absolute;
      width: 100%;
      height: 100%;
    }

    #clientTime * {
      margin: 0;
    }
  </style>

  <template>
    <div id="clientTime" class="clientTime"></div>
  </template>

  <script>
    ConcertoClientTime = Polymer({
      is: "concerto-client-time",

      behaviors: [ConcertoBehaviors.BaseContent, 
                  ConcertoBehaviors.Utils],

      properties: {
        timezone: {
          type: String,
          reflectToAttribute: true
        },
        dateObj: Object
      },

      /**
       * Display the current client side time
       *
       */
      attached: function() {
        this.$.clientTime.innerHTML = moment().tz(this.timezone).format('MM/DD/YY') + "<br />" + 
          moment().tz(this.timezone).format('hh:mm A');
        /* Adjust font to largest size possible that fits in time field */
        this.optimalFontSize(this, this.$.clientTime);
      }
    });
  </script>
</dom-module>

<script> 
  ConcertoBehaviors.ContentFactory.registerContent("concerto-client-time", "ConcertoClientTime");
</script>